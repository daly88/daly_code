require "math"
require "os"

g_int_array = {57349,36871,63510,24600,79899,43039,77857,40997,61482,45101,10287,63536,73777,34874,88133,30792,57417,92271,28749,69715,30807,14429,94304,45153,47202,96362,2155,67692,79981,111,71794,12410,12411,24716,24723,12438,19140,30875,47261,37026,54982,71849,20651,31774,32951,39096,14523,73916,26814,18623,90304,61633,57539,41168,16593,43219,43222,69848,11983,35037,35038,71907,8421,55526,5841,2284,55535,63731,2297,84218,28923,30977,76043,96529,31038,94484,65813,69911,43297,51506,63801,94526,39231,35147,78161,6484,78175,26978,94576,14705,83961,63860,84346,57724,24962,74119,31116,22931,12701,41374,39330,8945,76202,51631,72114,39326,18877,20926,25025,27074,22979,18886,86472,65997,75853,55760,84434,4572,68061,10718,94971,57839,12786,47605,41725,25082,12795,76288,55809,4610,59911,45586,39450,39455,12834,10787,13064,90675,12852,4662,21047,33338,92733,44469,88647,16969,10828,33360,37458,94808,64091,86630,56081,23147,37484,53869,82542,37309,27070,53880,26388,33402,98939,84605,43797,17025,86659,649,35469,18883,53912,47771,88737,10918,89884,31402,47787,43692,45741,37552,68275,60088,68284,15038,12996,62243,45785,53711,45792,84706,84091,17960,72429,99056,39665,70395,8957,45831,51976,29455,66321,37653,4886,47900,27423,35616,21281,45859,804,37671,68394,4909,31537,27445,27446,27458,99142,68424,21323,66380,90966,52056,25433,23388,82781,13150,863,62223,45924,95091,66422,50042,15231,43908,1516,86924,45965,52113,78738,13204,29849,52124,13213,62367,27555,19374,157,86965,95166,27592,7118,93135,97232,42147,19421,52192,78823,7145,62444,84974,15344,17560,66555,82943,84993,77995,41996,82974,44068,68785,3112,46121,66055,85037,25646,76850,15419,24757,56391,99400,37963,97362,63595,31829,37976,54361,29786,70752,97398,68741,33927,38031,20675,38038,42136,89241,38043,1181,35999,31907,17575,95432,97458,85172,21685,7350,20341,79044,79045,70856,17614,29907,56539,1249,36071,19688,21743,74992,21745,19667,77045,54520,38138,35030,23814,29976,79130,97563,13598,67461,3368,68910,75059,69854,32057,83267,1348,19784,11593,23887,54618,8570,11615,60772,58725,9578,42350,99696,15730,21880,9108,44414,23935,7554,46469,7560,93586,93593,64925,79263,21923,17834,26028,83187,66996,64949,82505,21946,46530,17859,50631,52680,58832,57594,75236,85477,9702,64999,32233,50667,46572,32240,40449,69127,79375,24084,89623,61359,5660,63006,77971,93735,20008,63018,95795,69179,1597,67142,39675,52808,69199,28246,75358,21263,11874,84582,77414,40551,85610,75378,13951,1670,80492,69263,50832,67217,87700,97942,56985,77469,42949,3745,63138,71339,34480,79537,7864,57027,32453,14022,7879,14025,5837,1743,47736,63188,71385,67290,18140,44765,95970,73443,91876,9980,7933,61399,77588,3861,12060,48942,10035,88170,77449,38715,96067,65348,1864,71497,94027,20301,46930,48982,94045,85870,87919,92016,81777,39230,26486,12152,36730,34683,49028,61317,18320,62104,61333,26520,22441,97949,51121,18368,18370,75715,55236,98245,71622,73671,51144,45002,49100,49101,94166,20473,24544,42983,69612,30705,10227,4089,92155,
}

function shuffle_pick(origin, n)
	local l = table.getn(origin)
	local pick = {}
	for _,v in ipairs(origin) do
		table.insert(pick, v)
	end
	local i = 0
	local j = 0
	local tmp = 0
	for i=1, n do
		i = math.random(l)
		if i > l/2 then
			j = math.random(i-1)
		else
			j = i + 1 + math.random(l-i-1)
		end
		tmp = pick[i]
		pick[i] = pick[j]
		pick[j] = tmp
	end

	for _,v in ipairs(pick) do
		for i=1, l do
			if origin[i] == v then
				--print(i)
				break
			end
		end
	end
end


function bench_array() 
	math.randomseed(os.time())
	for i=1,100 do shuffle_pick(g_int_array, 1000) end
end

bench_array()
